# 实验二

1. 原理：.bss 字段是什么含义？为什么我们要将动态分配的内存（堆）空间放在 .bss 字段？

放置在此处只是不得以而为之，我们在物理页面分配时需要使用到 Vec，对于操作系统内核我们具有的字段就那么几个，为了让这段空间包含在内核的二进制数据中，放在.bss 中利用了其存放全局变量不会销毁的特性。

2. 分析：我们在动态内存分配中实现了一个堆，它允许我们在内核代码中使用动态分配的内存，例如 `Vec` `Box` 等。那么，如果我们在实现这个堆的过程中使用 `Vec` 而不是 `[u8]`，会出现什么结果？

* vec 需要堆分配器为其分配空间

* 堆分配器 需要利用 vec 进行分配

会造成互相依赖，互相调用的死锁。



实验

1. 回答：`algorithm/src/allocator` 下有一个 `Allocator` trait，我们之前用它实现了物理页面分配。这个算法的时间和空间复杂度是什么？

   stacked_Allocator 的时间复杂度 O(1) 空间复杂度 O(n)

   segment_tree_allocator  的时间复杂度 O(n) ， 空间复杂 O(n)

   

2. 二选一：实现基于线段树的物理页面分配算法（不需要考虑合并分配）；或尝试修改 `FrameAllocator`，令其使用未被分配的页面空间（而不是全局变量）来存放页面使用状态。

   借助给出的代码和自己的理解实现[线段树](https://github.com/dingiso/DailySchedule/blob/master/code/实验二/segment_tree_allocator.rs)